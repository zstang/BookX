<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">




    <meta name="author" content="唐苏">
    <meta name="Copyright" content="Csdn">
    <meta name="description" content="μC/OS-Ⅱ下的九个C语言文件功能函数大全。转载自song529110的笔记（http://blog.21ic.com/user1/4838/index.htm）">
    <meta name="keywords" content="唐苏,uc/os—II下的九个C语言文件功能函数大全">
    <link rel="Shortcut Icon" href="http://profile.csdn.net/tststs660/picture/1.ico">
    <link href="3240692.aspx_files/Cogitation_1.css" type="text/css" rel="stylesheet" media="all"><script type="text/javascript" src="3240692.aspx_files/jquery-1.js"></script><script type="text/javascript" src="3240692.aspx_files/jquery.js"></script><script type="text/javascript" src="3240692.aspx_files/highlighter.js"></script><link href="http://blog.csdn.net/tststs660/rss.aspx" title="RSS" type="application/rss+xml" rel="alternate">
    <title>
        uc/os—II下的九个C语言文件功能函数大全 - 唐苏的专栏 - CSDNBlog</title>
<link type="text/css" rel="stylesheet" href="3240692.aspx_files/webimPopup.css"><script src="3240692.aspx_files/mystats_more.js" type="text/javascript"></script><script type="text/javascript" src="3240692.aspx_files/webimPopup.js"></script></head><body id="defaultuser">
    <div id="csdnblog_allwrap">
        <form name="Form1" method="post" action="3240692.aspx" id="Form1">
<input name="__VIEWSTATE" id="__VIEWSTATE" value="" type="hidden">

<script type="text/javascript">
//<![CDATA[
var Anthem_FormID = "Form1";
//]]>
</script>
<script src="3240692.aspx_files/WebResource.axd" type="text/javascript"></script>
        
<div id="csdnblog_midwrap">
    <div id="csdnblog_header">
        
        <h1><a id="Header1_HeaderTitle" href="http://blog.csdn.net/tststs660/">唐苏的专栏</a></h1><h2>交流即是快乐~</h2>
        
        <ul id="personalnav"><li><a href="http://passport.csdn.net/UserLogin.aspx">登录</a></li><li><a href="http://passport.csdn.net/CSDNUserRegister.aspx">注册</a></li></ul>
        
        <ul id="blogsearchsty"><li><input id="inputSearch" class="bolgsearch" onkeydown="return keyb(event)" type="text"></li><li class="selectsty"><select name="Search:ddlSearchScope" id="Search_ddlSearchScope"><option value="all">全站</option><option value="tststs660">当前博客</option></select></li><li><input onclick="checkNull()" value="搜索" class="bolggobtn" type="button"></li></ul>
        
        <ul id="menu"><li><a href="http://hi.csdn.net/tststs660">空间</a></li><li><a href="http://blog.csdn.net/tststs660" class="on">博客</a></li><li><a href="http://hi.csdn.net/tststs660/profile/contactlist/1.html">好友</a></li><li><a href="http://album.hi.csdn.net/" target="_blank">相册</a></li><li><a href="http://hi.csdn.net/tststs660/profile/notebook/1.html" class="last">留言</a></li></ul>
    </div>
    <div id="csdnblog_sidebar">
        <div class="gutter">
            <div class="aboutauthor">
                <dl>
                    
                    <dt>用户操作</dt><dd class="middle"><a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/Messages/tststs660.ashx" target="_blank">[即时聊天]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://hi.csdn.net/Admin/WriteMessage.aspx?Receiver=tststs660" target="_blank">[发私信]</a> <a href="http://passport.csdn.net/UserLogin.aspx?from=http://webim.csdn.net/AddFriends/tststs660.ashx" target="_blank">[加为好友]</a></dd><dt>唐苏</dt><dd class="middle"><img src="3240692.aspx_files/1.jpg"></dd>
                    
                    <dt>唐苏的公告</dt><dd>欢迎来访，请多指教~</dd>

                    <dt>最近评论</dt>
                    
                    <dt>文章分类</dt><dd><div class="publiclist_sidebar"><ul><li><a href="http://blog.csdn.net/tststs660/category/481606.aspx">DSP学习</a><a href="http://blog.csdn.net/tststs660/category/481606.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/485439.aspx">English Study</a><a href="http://blog.csdn.net/tststs660/category/485439.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/481879.aspx">μC/OS-II</a><a href="http://blog.csdn.net/tststs660/category/481879.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/486119.aspx">读书</a><a href="http://blog.csdn.net/tststs660/category/486119.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/481613.aspx">嵌入式系统</a><a href="http://blog.csdn.net/tststs660/category/481613.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/481942.aspx">心情&amp;感悟</a><a href="http://blog.csdn.net/tststs660/category/481942.aspx/rss">(RSS)</a></li><li><a href="http://blog.csdn.net/tststs660/category/483190.aspx">周总结</a><a href="http://blog.csdn.net/tststs660/category/483190.aspx/rss">(RSS)</a></li></ul></div></dd><dt>收藏</dt><dd><div class="publiclist_sidebar"><ul></ul></div></dd><dt>相册</dt><dt>存档</dt><dd><div class="publiclist_sidebar"><ul><li><a href="http://blog.csdn.net/tststs660/archive/2009/01.aspx">2009年01月(4)</a></li><li><a href="http://blog.csdn.net/tststs660/archive/2008/12.aspx">2008年12月(7)</a></li><li><a href="http://blog.csdn.net/tststs660/archive/2008/11.aspx">2008年11月(27)</a></li></ul></div></dd>

                    <span id="RecentVisitors"></span>
                    
                    <dt>软件项目交易</dt><dd><iframe style="margin: 0pt; width: 180px; height: 32px;" src="3240692.aspx_files/CsdnBlogPage.htm" scrolling="no" frameborder="0"></iframe></dd>
                    
                    <span id="SubscriptionList"><dt>订阅我的博客</dt><dd><a href="http://blog.csdn.net/tststs660/Rss.aspx"><img alt="XML聚合" src="3240692.aspx_files/xml.gif" border="0"></a>&nbsp;&nbsp;<a href="http://feeds.feedsky.com/csdn.net/tststs660" target="_blank"><img alt="FeedSky" src="3240692.aspx_files/feedsky.gif" border="0"></a></dd><dd><a href="http://www.xianguo.com/subscribe.php?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到鲜果" src="3240692.aspx_files/rss_xianguo.jpg" border="0"></a></dd><dd><a href="http://fusion.google.com/add?feedurl=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到Google" src="3240692.aspx_files/rss_google.gif" border="0"></a></dd><dd><a href="http://www.zhuaxia.com/add_channel.php?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到抓虾" src="3240692.aspx_files/rss_zhuaxia.gif" border="0"></a></dd><dd><a href="http://www.bloglines.com/sub/http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到BlogLines" src="3240692.aspx_files/rss_bloglines.gif" border="0"></a></dd><dd><a href="http://add.my.yahoo.com/rss?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到Yahoo" src="3240692.aspx_files/rss_yahoo.gif" border="0"></a></dd><dd><a href="http://rss.gougou.com/find_rss.jsp?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到GouGou" src="3240692.aspx_files/rss_gougou.gif" border="0"></a></dd><dd><a href="http://www.pageflakes.com/subscribe.aspx?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到飞鸽" src="3240692.aspx_files/rss_pageflakes.gif" border="0"></a></dd><dd><a href="http://www.rojo.com/add-subscription?resource=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到Rojo" src="3240692.aspx_files/rss_rojo.gif" border="0"></a></dd><dd><a href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到newsgator" src="3240692.aspx_files/rss_newsgator.gif" border="0"></a></dd><dd><a href="http://www.netvibes.com/subscribe.php?url=http://blog.csdn.net/tststs660/Rss.aspx" target="_blank"><img alt="订阅到netvibes" src="3240692.aspx_files/rss_netvibes.gif" border="0"></a></dd></span>
                </dl>
            </div>
        </div>
    </div>
    
    <div id="csdnblog_content">
        <div class="gutter">
            
                    
<div class="default_contents">
    <div class="user_article">
        <script type="text/javascript" src="3240692.aspx_files/LoadFeedbackCount.js"></script>
        <h1><img src="3240692.aspx_files/turnship.gif" alt="转载" width="15" border="0" height="14">&nbsp;<a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3240692.aspx">uc/os—II下的九个C语言文件功能函数大全</a><cite class="fav_csdnstylebykimi"><a href="javascript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&amp;u='+escape(d.location.href)+'&amp;c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></h1>
<div class="blogstory">
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesUp"><h3><a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3241770.aspx">新一篇:&nbsp;开博第一天&amp;充实&amp;快乐</a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3240634.aspx">旧一篇:&nbsp;有关μC/OS-Ⅱ的移植</a></h3></span>
    <script>function StorePage(){d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(keyit=window.open('http://www.365key.com/storeit.aspx?t='+escape(d.title)+'&u='+escape(d.location.href)+'&c='+escape(t),'keyit','scrollbars=no,width=475,height=575,left=75,top=20,status=no,resizable=yes'));keyit.focus();}</script><span style="color: blue; font-family: 宋体;"><span style="font-size: 12pt; color: blue; font-family: 宋体;">
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: center;" align="center"><font color="#000000"><span><strong><font face="Times New Roman">uc/os—II</font>下的九个<font face="Times New Roman">C</font>语言文件功能函数大全<o:p></o:p></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><strong><span style="font-size: 12pt; color: blue; font-family: 宋体;">一、</span><font face="Times New Roman"><span>OS_CORE.C<o:p></o:p></span></font></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OSInit (void)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OSIntEnter (void)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OSIntExit (void)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSSchedLock (void) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">给调度器上锁</span><font face="Times New Roman"><span style="font-size: 12pt;"> </span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSSchedUnlock (void) </strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">给调度器解锁，成对使用</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 216pt; text-indent: -216pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSStart (void)<span style="">&nbsp; </span></strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">启动多任务过程，在启动之前必须调用</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSInit()</font></span><span style="font-size: 12pt; font-family: 宋体;">，并已建立一个任务。其中</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSStartHighRdy()</font></span><span style="font-size: 12pt; font-family: 宋体;">必须调用</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSTaskSwHook()</font></span><span style="font-size: 12pt; font-family: 宋体;">，并令</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSRunning = TRUE.*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">7</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSStatInit (void) </strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">确定</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">CPU </font></span><span style="font-size: 12pt; font-family: 宋体;">使用率</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 216pt; text-indent: -216pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">8</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSTimeTick (void) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">时钟节拍服务函数，在每个时钟节拍了解每个任务的延时情况，使其中已经到了延时时限的非挂起任务进入就绪状态</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 168pt; text-indent: -168pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">9</font></span><span>）<font face="Times New Roman"><strong>INT16U<span style="">&nbsp; </span>OSVersion (void)<span style="">&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">返回</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">uc/os</font></span><span style="font-size: 12pt; font-family: 宋体;">的版本号</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*100</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 168pt; text-indent: -168pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">10</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_Dummy (void)<span style="">&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">不做任何事情，被</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSTaskDel() </font></span><span style="font-size: 12pt; font-family: 宋体;">调用</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 168pt; text-indent: -168pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">11</font></span><span>）<strong><font face="Times New Roman">INT8U OS_EventTaskRdy (OS_EVENT *pevent, void *msg, INT8U msk)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">使一个正在等待的任务进入就绪状态，在调用函数</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OS***Post</font></span><span style="font-size: 12pt; font-family: 宋体;">发送一个事件时被调用</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">12</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OS_EventTaskWait (OS_EVENT *pevent)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">因为一个事件未发生而挂起一个任务时被调用</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">13</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OS_EventTO (OS_EVENT *pevent)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">使一个等待超时的任务进入就绪状态</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">14</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OS_EventWaitListInit (OS_EVENT *pevent)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">把</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSEventGrp</font></span><span style="font-size: 12pt; font-family: 宋体;">及任务等待表中的每一位清零，即令</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">ECB</font></span><span style="font-size: 12pt; font-family: 宋体;">中不含任务等待，被</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OS***Create()</font></span><span style="font-size: 12pt; font-family: 宋体;">调用</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">15</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_Sched (void)<span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">实现任务级的调度</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">16</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_TaskIdle (void *pdata) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span><span style="">&nbsp;</span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">空闲任务，为使</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">CPU </font></span><span style="font-size: 12pt; font-family: 宋体;">在没有用户任务时有事可做</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 228pt; text-indent: -228pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">17</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OS_TaskStat (void *pdata)<span style="">&nbsp; </span><o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">统计任务，每秒计算一次</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">CPU</font></span><span style="font-size: 12pt; font-family: 宋体;">在单位时间内的使用时间，并将计算结果以百分数的形式存放在</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSCPUUsage</font></span><span style="font-size: 12pt; font-family: 宋体;">中，以便应用程序访问它来了解</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">cpu</font></span><span style="font-size: 12pt; font-family: 宋体;">利用率</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 180pt; text-indent: -180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">18</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OS_TCBInit (INT8U prio, </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务的优先级别，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBPrio</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_STK *ptos,<span style="">&nbsp; </span></strong><span style="">&nbsp;</span><span style="">&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务堆栈顶指针，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBStkPtr</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_STK *pbos, </strong><span style="">&nbsp;</span><span style="">&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务堆栈栈底指针，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBStkBottom</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT16U id,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务的标识符，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBID</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT32U stk_size,<span style="">&nbsp;&nbsp; </span><span style="">&nbsp;</span></strong>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务堆栈长度，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBStkSize</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>void *pext,<span style="">&nbsp;&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务控制块的扩展指针，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBExtPtr</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165.25pt; text-indent: -60.25pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT16U opt)<span style="">&nbsp; </span></strong>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务控制块的选择项，存于</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSTCBOpt</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 165pt; text-indent: -60pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">为用户程序分配任务控制块及对其进行初始化</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; color: blue; font-family: 宋体;">备注：</span><span style="font-size: 12pt; color: blue;" lang="EN-US"><font face="Times New Roman">INT8U const OSUnMapTbl[ ] </font></span><span style="font-size: 12pt; color: blue; font-family: 宋体;">是</span><span style="font-size: 12pt; color: blue;" lang="EN-US"><font face="Times New Roman">uc/os</font></span><span style="font-size: 12pt; color: blue; font-family: 宋体;">为提高查找速度而定义的一个数组</span><span style="font-size: 12pt; color: blue;" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; color: blue; font-family: 宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>二、<font face="Times New Roman">OS_FLAG.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>OS_FLAG_GRP<span style="">&nbsp; </span>*OSFlagCreate (OS_FLAGS flags, </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">信号量初始值</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 204.8pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U *err)<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">错误信息</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 180pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">信号量集的创建函数</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 204pt; text-indent: -204pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_FlagInit (void) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*initialize the event flag module</font></span><span style="font-size: 12pt; font-family: 宋体;">，是</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">uc/os</font></span><span style="font-size: 12pt; font-family: 宋体;">内部函数，应用程序不得调用该函数</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<font face="Times New Roman"><strong>OS_FLAG_GRP *OSFlagDel (OS_FLAG_GRP *pgrp, </strong></font></span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US"><span style="">&nbsp;</span></span><span style="" lang="EN-US">//</span></font><span style="font-family: 宋体;">所要删除信号量集指针</span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 156.6pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U opt,<span style="">&nbsp;&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">选择项</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 156.6pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U *err)<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">删除信号量集</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<font face="Times New Roman"><strong>OS_FLAGS <span style="">&nbsp;</span>OSFlagPend (OS_FLAG_GRP *pgrp, <span style="">&nbsp;&nbsp;</span></strong></font></span><span style="" lang="EN-US"><font face="Times New Roman">//</font></span><span style="font-family: 宋体;">所要请求的信号量集的指针</span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_FLAGS flags,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">滤波器</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U wait_type,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">等待类型</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT16U timeout, <span style="">&nbsp;</span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">延时时限</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U *err)<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;</span><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">错误信息</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">请求信号量集</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>OS_FLAGS<span style="">&nbsp; </span>OSFlagAccept (OS_FLAG_GRP *pgrp, </strong></font></span><span style="" lang="EN-US"><font face="Times New Roman">//</font></span><span style="font-family: 宋体;">所请求的信号量集指针</span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 144.55pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_FLAGS flags,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">请求的信号</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 144.55pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U wait_type,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">逻辑运算类型</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 144.55pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U *err)<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;</span><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">错误信息</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 144pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">无等待的请求一个信号量集</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<strong><font face="Times New Roman">OS_FLAGS<span style="">&nbsp; </span>OSFlagPost (OS_FLAG_GRP *pgrp, </font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_FLAGS flags,<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">所要选择发送的信号</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U opt,<span style="">&nbsp;&nbsp;&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">信号有效的选项</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132.5pt; text-align: left;" align="left"><span><strong><font color="#000000"><font face="Times New Roman">INT8U *err)<o:p></o:p></font></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 132pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">向信号量集发送信号</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">7</font></span><span>）<font face="Times New Roman"><strong>OS_FLAGS<span style="">&nbsp; </span>OSFlagQuery (OS_FLAG_GRP *pgrp,</strong></font></span><span style="" lang="EN-US"><font face="Times New Roman"> //</font></span><span style="font-family: 宋体;">待查询的信号量集的指针</span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 180.7pt; text-align: left;" align="left"><span><strong><font color="#000000"><font face="Times New Roman">INT8U *err)<o:p></o:p></font></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">查询信号量的状态，返回被查询信号量集标志组的成员</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">OSFlagFlags*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">8</font></span><span>）<font face="Times New Roman"><strong>static<span style="">&nbsp; </span>void<span style="">&nbsp; </span>OS_FlagBlock (OS_FLAG_GRP *pgrp, </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">信号量集指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 100.35pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_FLAG_NODE *pnode, </strong><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">待添加的等待任务节点指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 153.1pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>OS_FLAGS flags, </strong>// </font></span><span style="font-size: 12pt; font-family: 宋体;">指定等待信号的数据</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 150.6pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U wait_type, </strong>// </font></span><span style="font-size: 12pt; font-family: 宋体;">信号与等待之间的逻辑</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 150.6pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT16U timeout)<span style="">&nbsp; </span></strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">等待时限</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">添加节点，在请求信号量集函数</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSFlagPend() </font></span><span style="font-size: 12pt; font-family: 宋体;">中被调用</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 204pt; text-indent: -204pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">9</font></span><span>）<strong><font face="Times New Roman">static<span style="">&nbsp; </span>BOOLEAN<span style="">&nbsp; </span>OS_FlagTaskRdy (OS_FLAG_NODE *pnode, <o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 178.5pt; text-indent: 24.1pt; text-align: left;" align="left"><span><strong><font color="#000000"><font face="Times New Roman">OS_FLAGS flags_rdy)<o:p></o:p></font></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">期望的事件标志为已经置位，从而使一个任务准备运行</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">10</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OS_FlagUnlink (OS_FLAG_NODE *pnode) <o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/ *</font></span><span style="font-size: 12pt; font-family: 宋体;">删除节点，在</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSFlagPost() </font></span><span style="font-size: 12pt; font-family: 宋体;">中被调用</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">*/<o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>三、<font face="Times New Roman">OS_MBOX.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>*OSMboxAccept (OS_EVENT *pevent) </strong></font><font face="Times New Roman"><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">无等待的请求消息邮箱</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>OS_EVENT<span style="">&nbsp; </span>*OSMboxCreate (void *msg)</strong></font><span style="">&nbsp;&nbsp;&nbsp; </span></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">// </font></span><span style="font-size: 12pt; font-family: 宋体;">创建一个消息邮箱</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<strong><font face="Times New Roman">OS_EVENT<span style="">&nbsp; </span>*OSMboxDel (OS_EVENT *pevent, INT8U opt, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">删除消息邮箱</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>*OSMboxPend (OS_EVENT *pevent, INT16U timeout, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 6pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">请求消息邮箱，查看</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSEventPtr</font></span><span style="font-size: 12pt; font-family: 宋体;">是否为</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">NULL*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>INT8U OSMboxPost (OS_EVENT *pevent, void *msg)</strong></font><font face="Times New Roman">//</font></span><span style="font-family: 宋体;">向消息邮箱发送消息</span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<strong><font face="Times New Roman">INT8U OSMboxPostOpt (OS_EVENT *pevent, void *msg, INT8U opt)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">以广播形式向事件等待任务表中的所有任务发送消息</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">7</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSMboxQuery (OS_EVENT *pevent, OS_MBOX_DATA *pdata)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">状态查询</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">*/<o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>四、<font face="Times New Roman">OS_MEM.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>OS_MEM *OSMemCreate (void *addr, INT32U nblks, INT32U blksize, INT8U *err)</strong></font><font face="Times New Roman"> /*</font></span><span style="font-size: 12pt; font-family: 宋体;">创建动态内存</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>void *OSMemGet (OS_MEM *pmem, INT8U *err)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">请求获得一个内存块</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSMemPut (OS_MEM<span style="">&nbsp; </span>*pmem, void *pblk)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">释放一个内存块</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSMemQuery (OS_MEM *pmem, OS_MEM_DATA *pdata)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">查询动态内存的状态</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_MemInit (void) </strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">初始化动态内存</span><span style="font-size: 12pt;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>五、<font face="Times New Roman">OS_MUTEX.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSMutexAccept (OS_EVENT *pevent, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">无等待时间的请求信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<strong><font face="Times New Roman">OS_EVENT<span style="">&nbsp; </span>*OSMutexCreate (INT8U prio, INT8U *err)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">创建互斥型信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<strong><font face="Times New Roman">OS_EVENT *OSMutexDel (OS_EVENT *pevent, INT8U opt, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">删除互斥型信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<strong><font face="Times New Roman">void <span style="">&nbsp;</span>OSMutexPend (OS_EVENT *pevent, INT16U timeout, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">有等待时间的请求信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>INT8U OSMutexPost (OS_EVENT *pevent)</strong></font><font face="Times New Roman"> //</font></span><span style="font-size: 12pt; font-family: 宋体;">发送（释放）互斥型信号量</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<strong><font face="Times New Roman">INT8U OSMutexQuery (OS_EVENT *pevent, OS_MUTEX_DATA *pdata)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">获取互斥型信号量的当前状态</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">*/<o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>六、<font face="Times New Roman">OS_Q.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>*OSQAccept (OS_EVENT *pevent)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">无等待的请求一个消息队列</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>OS_EVENT<span style="">&nbsp; </span>*OSQCreate (void **start, INT16U size)</strong></font><font face="Times New Roman"> //</font></span><span style="font-size: 12pt; font-family: 宋体;">创建一个消息队列</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<strong><font face="Times New Roman">OS_EVENT<span style="">&nbsp; </span>*OSQDel (OS_EVENT *pevent, INT8U opt, INT8U *err)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">删除消息队列</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSQFlush (OS_EVENT *pevent)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">清空消息队列</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>*OSQPend (OS_EVENT *pevent, INT16U timeout, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">有等待的请求一个消息队列</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSQPost (OS_EVENT *pevent, void *msg)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">以“先进先出”的方式向消息队列发送消息</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">7</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSQPostFront (OS_EVENT *pevent, void *msg)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">以“后进先出”的方式向消息队列发送消息</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">8</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSQPostOpt (OS_EVENT *pevent, void *msg, INT8U opt)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">以“广播”方式向消息队列发送消息</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">9</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSQQuery (OS_EVENT *pevent, OS_Q_DATA *pdata)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">获取消息队列的当前状态</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">10</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OS_QInit (void)<span style="">&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">消息队列初始化</span><span style="font-size: 12pt;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>七、<font face="Times New Roman">OS_SEM.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>INT16U<span style="">&nbsp; </span>OSSemAccept (OS_EVENT *pevent)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">无等待的请求信号量</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>OS_EVENT *OSSemCreate (INT16U cnt)<span style="">&nbsp;&nbsp;&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">创建信号量</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<strong><font face="Times New Roman">OS_EVENT *OSSemDel (OS_EVENT *pevent, INT8U opt, INT8U *err)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">删除信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<strong><font face="Times New Roman">void<span style="">&nbsp; </span>OSSemPend (OS_EVENT *pevent, INT16U timeout, INT8U *err)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">有等待的请求信号量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSSemPost (OS_EVENT *pevent)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">发送（释放）信号量</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSSemQuery (OS_EVENT *pevent, OS_SEM_DATA *pdata)</font></strong></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 6pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">/*</font></span><span style="font-size: 12pt; font-family: 宋体;">获取信号量的当前状态</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">*/<o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 6pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span><strong>八、<font face="Times New Roman">OS_TASK.C<o:p></o:p></font></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSTaskChangePrio (INT8U oldprio, INT8U newprio)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">任务优先级别的改变</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<strong><font face="Times New Roman">INT8U OSTaskCreate (void (*task)(void *pd), void *pdata, OS_STK *ptos, <o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><strong>INT8U prio) </strong>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">任务的创建</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskCreateExt (void<span style="">&nbsp;&nbsp; </span>(*task)(void *pd), </strong></font><font face="Times New Roman">// </font></span><span style="font-size: 12pt; font-family: 宋体;">指向任务的指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span>&nbsp;<strong>&nbsp;</strong></span><strong>void<span style="">&nbsp;&nbsp;&nbsp; </span>*pdata, </strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font>传递给任务的参数</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span>&nbsp;<strong>&nbsp;</strong></span><strong>OS_STK<span style="">&nbsp; </span>*ptos,</strong><span><strong>&nbsp; </strong>&nbsp;&nbsp;&nbsp;</span>// </font>指向任务堆栈栈顶的指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;&nbsp;</strong></span><strong>INT8U<span style="">&nbsp;&nbsp;&nbsp; </span>prio, </strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;</span>// </font>创建任务的优先级</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;&nbsp;</strong></span><strong>INT16U<span style="">&nbsp;&nbsp; </span>id,</strong><span><strong>&nbsp; </strong>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="">&nbsp;&nbsp;</span>// </font>任务的标识</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;&nbsp;</strong></span><strong>OS_STK<span style="">&nbsp; </span>*pbos, </strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font>任务堆栈栈底的指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;</strong></span><strong>INT32U<span style="">&nbsp;&nbsp; </span>stk_size,</strong><span><strong>&nbsp; </strong>&nbsp;&nbsp;</span>// </font>任务堆栈的长度</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;</strong></span><strong>void<span style="">&nbsp;&nbsp;&nbsp; </span>*pext,</strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font>指向附加数据域的指针</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span><font face="Times New Roman"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<strong>&nbsp;</strong></span><strong>INT16U<span style="">&nbsp;&nbsp; </span>opt) </strong><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font>用于设定操作的选项</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">任务的另一种创建函数，更加灵活，但也增加了额外的开销</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskDel (INT8U prio)<span style="">&nbsp; </span></strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务的删除</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskDelReq (INT8U prio)</strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">请求删除任务函数</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">6</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskResume (INT8U prio) </strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">任务的恢复</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">7</font></span><span>）<strong><font face="Times New Roman">INT8U<span style="">&nbsp; </span>OSTaskStkChk (INT8U prio, OS_STK_DATA *pdata)<o:p></o:p></font></strong></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">校核空余内存的数量</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 240pt; text-indent: -240pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">8</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskSuspend (INT8U prio)<span style="">&nbsp; </span></strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;</span><o:p></o:p></font></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 240pt; text-indent: -240pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">任务的挂起，可用来挂起自身或除空闲任务之外的任何任务</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 240pt; text-indent: -240pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">9</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTaskQuery (INT8U prio, OS_TCB *pdata)</strong></font><font face="Times New Roman"> // </font></span><span style="font-size: 12pt; font-family: 宋体;">任务的查询</span><span style="font-size: 12pt;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 240pt; text-indent: -240pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><strong><span>九、<font face="Times New Roman">OS_TIME.C</font></span><span style="font-size: 12pt; color: blue; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">1</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSTimeDly (INT16U ticks) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">以时钟节拍数为单位延时</span><font face="Times New Roman"><span style="font-size: 12pt;"> </span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">2</font></span><span>）<font face="Times New Roman"><strong>INT8U OSTimeDlyHMSM (INT8U hours, INT8U minutes, INT8U seconds, INT16U milli)</strong></font><font face="Times New Roman"> /*</font></span><span style="font-size: 12pt; font-family: 宋体;">用时、分、秒、毫秒为单位延时</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 288pt; text-indent: -288pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">3</font></span><span>）<font face="Times New Roman"><strong>INT8U<span style="">&nbsp; </span>OSTimeDlyResume (INT8U prio)<span style="">&nbsp; </span></strong></font></span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt 288pt; text-indent: -288pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;</span>/*</font></span><span style="font-size: 12pt; font-family: 宋体;">取消延时，若任务比正在运行的任务级别高，则立即引发一次调度</span><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US">*/</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">4</font></span><span>）<font face="Times New Roman"><strong>INT32U<span style="">&nbsp; </span>OSTimeGet (void) </strong></font></span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">获取</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">OSTime </font></span><span style="font-size: 12pt; font-family: 宋体;">值</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt; font-family: 宋体;">（</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman">5</font></span><span>）<font face="Times New Roman"><strong>void<span style="">&nbsp; </span>OSTimeSet (INT32U ticks) </strong></font><font face="Times New Roman"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>// </font></span><span style="font-size: 12pt; font-family: 宋体;">设置</span><span style="font-size: 12pt;" lang="EN-US"><font face="Times New Roman"> OSTime </font></span><span style="font-size: 12pt; font-family: 宋体;">值</span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; color: blue; font-family: 宋体;">注：</span><span style="font-size: 12pt; color: blue;" lang="EN-US"><font face="Times New Roman">INT32U<span style="">&nbsp; </span>OSTime </font></span><span style="font-size: 12pt; color: blue; font-family: 宋体;">，</span><span style="font-size: 12pt; color: blue; font-family: 宋体;">全局变量，用以记录系统发生的时钟节拍</span><span style="font-size: 12pt; color: blue; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><o:p><font color="#000000" face="Times New Roman">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p><font color="#000000">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"><font color="#000000"><font face="Times New Roman"><span style="font-size: 12pt;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style="font-size: 12pt; font-family: 宋体;" lang="EN-US"><o:p></o:p></span></font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: 12pt;" lang="EN-US"><o:p><font color="#000000" face="Times New Roman">&nbsp;</font></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-align: left;" align="left"></p></span></span><p class="right articalinfo">发表于 @ <a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3240692.aspx" title="permalink">2008年11月06日 19:54:00</a>|<a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3240692.aspx#FeedBack" title="评论">评论(<span id="FeedbackCount_3240692">0</span><script type="text/javascript">AddFeedbackCountStack("3240692")</script>)</a>|<cite class="fav_csdnstylebykimi"><a href="javascript:d=document;t=d.selection?(d.selection.type!='None'?d.selection.createRange().text:''):(d.getSelection?d.getSelection():'');void(saveit=window.open('http://wz.csdn.net/storeit.aspx?t='+escape(d.title)+'&amp;u='+escape(d.location.href)+'&amp;c='+escape(t),'saveit','scrollbars=no,width=590,height=300,left=75,top=20,status=no,resizable=yes'));saveit.focus();" class="fav_csdnstylebykimi" title="收藏到我的网摘中，并分享给我的朋友">收藏</a></cite></p>
    <span id="Post.ascx_ViewPost_PreviousAndNextEntriesDown"><h3><a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3241770.aspx">新一篇:&nbsp;开博第一天&amp;充实&amp;快乐</a>&nbsp;|&nbsp;<a href="http://blog.csdn.net/tststs660/archive/2008/11/06/3240634.aspx">旧一篇:&nbsp;有关μC/OS-Ⅱ的移植</a></h3></span>
</div>

        
    </div>
    <div class="commentslist">
        <span id="Anthem_Post.ascx_Comments_ltlComments__"><span id="Post.ascx_Comments_ltlComments"><div id="commentslist"><h3>评论：没有评论。</h3></div></span></span>

    </div>
    <div class="spacecommment">
        <div id="Anthem_Post.ascx_PostComment_CommentUpdatePanel__"><div id="Post.ascx_PostComment_CommentUpdatePanel">
	
    <fieldset>
        <legend>发表评论<dfn>只有注册用户才能发表评论！<a href="http://passport.csdn.net/member/UserLogin.aspx?from=http://blog.csdn.net/tststs660/archive/2008/11/06/3240692.aspx">登录</a>&nbsp;<a href="http://passport.csdn.net/CSDNUserRegister.aspx">注册</a></dfn></legend>
        <em><img src="3240692.aspx_files/blog_commentnotice.gif" alt="只有已注册用户才能发表评论!请登录或注册"></em>
        
    </fieldset>

</div></div>

    </div>

    <script type="text/javascript">
    LoadFeedbackCount();//加载评论
    
    </script>

    </div>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script><img src="3240692.aspx_files/pv_002.txt" width="0" border="0" height="0"> 
                
        </div>
    </div>
    
    <div id="pubfooter">
        
<dl>
    <dt></dt>
    <dd>
        Csdn Blog version 3.1a</dd>
    <dd>
        Copyright ©
        唐苏<br>
	举报电话：13552009689
    </dd>
</dl>

    </div>
</div>

        </form>

        <script type="text/javascript" src="3240692.aspx_files/counter.js"></script><img src="3240692.aspx_files/visitlog.htm" alt="" width="1" border="0" height="1"><iframe id="myframe" name="myframe" border="0" src="3240692.aspx_files/dd333.htm" scrolling="no" width="0" frameborder="no" height="0"></iframe>
<script type="text/javascript" charset="UTF-8" src="3240692.aspx_files/34089.js"></script><a href="http://www.vdoing.com/" target="_blank" title="Vdoing Stats No.34089
 www.vdoing.com"><img src="3240692.aspx_files/vd02.gif" align="absmiddle" border="0"></a>
<noscript><a href="http://www.vdoing.com" title="Vdoing StatsX
No.34089"><img src="http://simg.vdoing.com/m/34089/x01.gif?noscript"
border="0"></a></noscript>

    </div>
<img style="display: none;" alt="" src="3240692.aspx_files/pv.txt"></body></html>